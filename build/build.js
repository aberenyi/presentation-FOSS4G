!function e(t,n,r){function o(i,c){if(!n[i]){if(!t[i]){var a="function"==typeof require&&require;if(!c&&a)return a(i,!0);if(s)return s(i,!0);throw new Error("Cannot find module '"+i+"'")}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){var n=t[i][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){t.exports=function(e){return function(t){var n,r,o=t.slides.map(function(t){return[].slice.call(t.querySelectorAll("string"==typeof e?e:"[data-bespoke-bullet]"),0)}),s=function(){var e=n+1;return a(1)?(c(n,r+1),!1):void(o[e]&&c(e,0))},i=function(){var e=n-1;return a(-1)?(c(n,r-1),!1):void(o[e]&&c(e,o[e].length-1))},c=function(e,t){n=e,r=t,o.forEach(function(n,r){n.forEach(function(n,o){n.classList.add("bespoke-bullet"),e>r||r===e&&t>=o?(n.classList.add("bespoke-bullet-active"),n.classList.remove("bespoke-bullet-inactive")):(n.classList.add("bespoke-bullet-inactive"),n.classList.remove("bespoke-bullet-active")),r===e&&o===t?n.classList.add("bespoke-bullet-current"):n.classList.remove("bespoke-bullet-current")})})},a=function(e){return void 0!==o[n][r+e]};t.on("next",s),t.on("prev",i),t.on("slide",function(e){c(e.index,0)}),c(0,0)}}},{}],2:[function(e,t,n){t.exports=function(){return function(e){var t=function(e,t){e.classList.add("bespoke-"+t)},n=function(e,t){e.className=e.className.replace(new RegExp("bespoke-"+t+"(\\s|$)","g")," ").trim()},r=function(r,o){var s=e.slides[e.slide()],i=o-e.slide(),c=i>0?"after":"before";["before(-\\d+)?","after(-\\d+)?","active","inactive"].map(n.bind(null,r)),r!==s&&["inactive",c,c+"-"+Math.abs(i)].map(t.bind(null,r))};t(e.parent,"parent"),e.slides.map(function(e){t(e,"slide")}),e.on("activate",function(o){e.slides.map(r),t(o.slide,"active"),n(o.slide,"inactive")})}}},{}],3:[function(e,t,n){t.exports=function(){return function(e){var t=function(){var t=window.location.hash.slice(1),r=parseInt(t,10);t&&(r?n(r-1):e.slides.forEach(function(e,r){e.getAttribute("data-bespoke-hash")===t&&n(r)}))},n=function(t){var n=t>-1&&t<e.slides.length?t:0;n!==e.slide()&&e.slide(n)};setTimeout(function(){t(),e.on("activate",function(e){var t=e.slide.getAttribute("data-bespoke-hash");window.location.hash=t||e.index+1}),window.addEventListener("hashchange",t)},0)}}},{}],4:[function(e,t,n){t.exports=function(e){return function(t){var n="vertical"!==e;document.addEventListener("keydown",function(e){(34==e.which||32==e.which&&!e.shiftKey||n&&39==e.which||!n&&40==e.which)&&t.next(),(33==e.which||32==e.which&&e.shiftKey||n&&37==e.which||!n&&38==e.which)&&t.prev()})}}},{}],5:[function(e,t,n){"use strict";var r,o,s=e("es5-ext/object/primitive-set"),i=e("querystring2/parse"),c=e("querystring2/stringify"),a=e("webmake/lib/browser/load-css"),u=s("input","select","textarea");r=function(e){var t;return location.search?(t=i(location.search.slice(1))[e],null==t?null:t?Boolean(Number(t)):!0):null},o=function(){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},t.exports=function(){var e=Object(arguments[1]),t=Boolean(e.visible),n=e.key||78,s=e.slideWidth,l="notes";return e.queryToken===!1?l=null:e.queryToken&&e.queryToken!==!0&&(l=e.queryToken),function(e){var f,d,p;l&&(p=r(l),null!=p&&(t=p),window.addEventListener("popstate",function(){f(Boolean(r(l)))})),!isNaN(s)&&s>0&&a("body.notes .bespoke-slide {width: "+2*s+"px;margin-left: -"+s+"px;}body.notes .bespoke-slide > div.content,body.notes .bespoke-slide > aside {width: "+(s-40)+"px;}"),f=function(e){var t,n,r;d!==e&&(d=e,e?document.body.classList.add("notes"):document.body.classList.remove("notes"),l&&(r=location.pathname,t=location.search?i(location.search.slice(1)):{},e?t[l]=null:delete t[l],n=c(t),n&&(r+="?"+n.replace(/(?:=&)/g,"&").replace(/\=$/,"")),location.hash&&(r+=location.hash),history.pushState({},"",r),o()))},document.addEventListener("keydown",function(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||e.which===n&&(u[e.srcElement.nodeName.toLowerCase()]||(e.preventDefault(),f(!d)))},!1),f(t)}}},{"es5-ext/object/primitive-set":7,"querystring2/parse":9,"querystring2/stringify":10,"webmake/lib/browser/load-css":11}],6:[function(e,t,n){"use strict";t.exports=e("./dom")},{"./dom":5}],7:[function(e,t,n){"use strict";var r=Array.prototype.forEach,o=Object.create;t.exports=function(e){var t=o(null);return r.call(arguments,function(e){t[e]=!0}),t}},{}],8:[function(e,t,n){"use strict";var r=function(e){return e.charCodeAt(0)};t.exports=function(e){var t,n,o,s,i,c,a=new Array(e.length),u="CHAR";for(s=0,i=0;s<=e.length;s++)switch(c=e.charCodeAt(s),u){case"CHAR":switch(c){case r("%"):t=0,n=0,u="HEX0";break;default:a[i++]=c}break;case"HEX0":if(u="HEX1",o=c,r("0")<=c&&c<=r("9"))t=c-r("0");else if(r("a")<=c&&c<=r("f"))t=c-r("a")+10;else{if(!(r("A")<=c&&c<=r("F"))){a[i++]=r("%"),a[i++]=c,u="CHAR";break}t=c-r("A")+10}break;case"HEX1":if(u="CHAR",r("0")<=c&&c<=r("9"))n=c-r("0");else if(r("a")<=c&&c<=r("f"))n=c-r("a")+10;else{if(!(r("A")<=c&&c<=r("F"))){a[i++]=r("%"),a[i++]=o,a[i++]=c;break}n=c-r("A")+10}a[i++]=16*t+n}return a.slice(0,i-1)}},{}],9:[function(e,t,n){"use strict";var r=e("./lib/unescape-buffer"),o=Array.isArray,s=Object.prototype.hasOwnProperty,i=Object.create,c=String.fromCharCode,a=/\+/g,u=function(e){try{return decodeURIComponent(e)}catch(t){return c.apply(null,r(e))}};t.exports=function(e){var t,n,r,c,l,f,d,p=arguments[1]||"&",h=arguments[2]||"=",v=arguments[3],b=i(null);if(null==e)return b;if(e=String(e),0===e.length)return b;e=e.split(p);var m=1e3;v&&!isNaN(v.maxKeys)&&(m=Number(v.maxKeys));var y=e.length;for(m>0&&y>m&&(y=m),t=0;y>t;++t)n=e[t].replace(a,"%20"),r=n.indexOf(h),r>=0?(c=n.substr(0,r),l=n.substr(r+1)):(c=n,l=""),f=u(c),d=u(l),s.call(b,f)?o(b[f])?b[f].push(d):b[f]=[b[f],d]:b[f]=d;return b}},{"./lib/unescape-buffer":8}],10:[function(e,t,n){"use strict";var r=Array.isArray,o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e){var t=arguments[1]||"&",n=arguments[2]||"=";if(!e||"function"!=typeof e&&"object"!=typeof e)throw new TypeError(e+" is not an object");var s,i,c,a,u,l=Object.keys(e),f=[];for(s=0;s<l.length;s++)if(i=l[s],c=e[i],a=encodeURIComponent(i)+n,r(c))for(u=0;u<c.length;u++)f.push(a+encodeURIComponent(o(c[u])));else f.push(a+encodeURIComponent(o(c)));return f.join(t)}},{}],11:[function(e,t,n){"use strict";var r,o;document.createStyleSheet?(r=document.styleSheets.length>29?document.styleSheets[document.styleSheets.length-1]:document.createStyleSheet(),o=function(e){r.cssText+=e}):(r=document.getElementsByTagName("head")[0].appendChild(document.createElement("style")),r.setAttribute("type","text/css"),o=function(e){r.appendChild(document.createTextNode(e))}),t.exports=o},{}],12:[function(e,t,n){t.exports=function(e){return function(t){var n=document.createElement("div"),r=document.createElement("div"),o="vertical"===e?"height":"width";n.className="bespoke-progress-parent",r.className="bespoke-progress-bar",n.appendChild(r),t.parent.appendChild(n),t.on("activate",function(e){r.style[o]=100*e.index/(t.slides.length-1)+"%"})}}},{}],13:[function(e,t,n){t.exports=function(e){return function(t){var n=t.parent,r=t.slides[0],o=r.offsetHeight,s=r.offsetWidth,i="zoom"===e||"zoom"in n.style&&"transform"!==e,c=function(e){var t=document.createElement("div");return t.className="bespoke-scale-parent",e.parentNode.insertBefore(t,e),t.appendChild(e),t},a=i?t.slides:t.slides.map(c),u=function(e){var t="Moz Webkit O ms".split(" ");return t.reduce(function(t,r){return r+e in n.style?r+e:t},e.toLowerCase())}("Transform"),l=i?function(e,t){t.style.zoom=e}:function(e,t){t.style[u]="scale("+e+")"},f=function(){var e=n.offsetWidth/s,t=n.offsetHeight/o;a.forEach(l.bind(null,Math.min(e,t)))};window.addEventListener("resize",f),f()}}},{}],14:[function(e,t,n){t.exports=function(){return function(e){var t=function(t,n){var r=n.slide.getAttribute("data-bespoke-state");r&&r.split(" ").forEach(function(n){e.parent.classList[t](n)})};e.on("activate",t.bind(null,"add")),e.on("deactivate",t.bind(null,"remove"))}}},{}],15:[function(e,t,n){"use strict";t.exports=Math.random().toString(36).slice(2,7)},{}],16:[function(e,t,n){"use strict";var r=e("./xhr"),o=e("./sse");t.exports=function(){var e=Object(arguments[1]);return function(t){o(t,e),r(t,e)}}},{"./sse":17,"./xhr":18}],17:[function(e,t,n){"use strict";var r=e("./id"),o=e("querystring/decode"),s=JSON.parse;t.exports=function(e){var t=Object(arguments[1]),n=t.ssePath||"/sse-slides/",i=new EventSource(n+"?id="+r);t.log&&(i.onopen=function(){console.log("Server connection: Open")},i.onerror=function(){console.error("Server connection: Error")}),i.onmessage=function(n){var i=s(o(n.data.trim()).data);t.log&&console.log("Server -> Client["+r+"]",i),i.server=!0,e.slide(i.index,i)}}},{"./id":15,"querystring/decode":25}],18:[function(e,t,n){"use strict";var r=e("es5-ext/object/for-each"),o=e("es5-ext/object/is-object"),s=e("querystring/encode"),i=e("./id"),c=JSON.stringify;t.exports=function(e){var t=Object(arguments[1]),n=(t.xhrPath||"/slide/")+"?id="+i;e.on("activate",function(e){var a,u={};e.server||(r(e,function(e,t){o(e)||(u[t]=e)}),a=new XMLHttpRequest,a.open("POST",n,!0),a.send(s({data:c(u)})),t.log&&console.log("Client["+i+"] -> Server",u))})}},{"./id":15,"es5-ext/object/for-each":20,"es5-ext/object/is-object":22,"querystring/encode":26}],19:[function(e,t,n){"use strict";var r=e("./is-callable"),o=e("./valid-callable"),s=e("./valid-value"),i=Function.prototype.call,c=Object.keys,a=Object.prototype.propertyIsEnumerable;t.exports=function(e,t){return function(n,u){var l,f=arguments[2],d=arguments[3];return n=Object(s(n)),o(u),l=c(n),d&&l.sort(r(d)?d.bind(n):void 0),l[e](function(e,r){return a.call(n,e)?i.call(u,f,n[e],e,n,r):t})}}},{"./is-callable":21,"./valid-callable":23,"./valid-value":24}],20:[function(e,t,n){"use strict";t.exports=e("./_iterate")("forEach")},{"./_iterate":19}],21:[function(e,t,n){"use strict";t.exports=function(e){return"function"==typeof e}},{}],22:[function(e,t,n){"use strict";var r={"function":!0,object:!0};t.exports=function(e){return null!=e&&r[typeof e]||!1}},{}],23:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],24:[function(e,t,n){"use strict";t.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},{}],25:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var i=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var a=e.length;c>0&&a>c&&(a=c);for(var u=0;a>u;++u){var l,f,d,p,h=e[u].replace(i,"%20"),v=h.indexOf(n);v>=0?(l=h.substr(0,v),f=h.substr(v+1)):(l=h,f=""),d=decodeURIComponent(l),p=decodeURIComponent(f),r(s,d)?Array.isArray(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s}},{}],26:[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,o){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(o){var s=encodeURIComponent(r(o))+n;return Array.isArray(e[o])?e[o].map(function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[o]))}).join(t):o?encodeURIComponent(r(o))+n+encodeURIComponent(r(e)):""}},{}],27:[function(e,t,n){t.exports=function(e){return function(t){var n,r,o="vertical"==e?"Y":"X";t.parent.addEventListener("touchstart",function(e){1==e.touches.length&&(n=e.touches[0]["page"+o],r=0)}),t.parent.addEventListener("touchmove",function(e){1==e.touches.length&&(e.preventDefault(),r=e.touches[0]["page"+o]-n)}),t.parent.addEventListener("touchend",function(){Math.abs(r)>50&&t[r>0?"prev":"next"]()})}}},{}],28:[function(e,t,n){var r=function(e,t){var n=1===e.nodeType?e:document.querySelector(e),r=[].filter.call(n.children,function(e){return"SCRIPT"!==e.nodeName}),o=r[0],s={},i=function(e,t){r[e]&&(l("deactivate",f(o,t)),o=r[e],l("activate",f(o,t)))},c=function(e,t){return arguments.length?void(l("slide",f(r[e],t))&&i(e,t)):r.indexOf(o)},a=function(e,t){var n=r.indexOf(o)+e;l(e>0?"next":"prev",f(o,t))&&i(n,t)},u=function(e,t){return(s[e]||(s[e]=[])).push(t),function(){s[e]=s[e].filter(function(e){return e!==t})}},l=function(e,t){return(s[e]||[]).reduce(function(e,n){return e&&n(t)!==!1},!0)},f=function(e,t){return t=t||{},t.index=r.indexOf(e),t.slide=e,t},d={on:u,fire:l,slide:c,next:a.bind(null,1),prev:a.bind(null,-1),parent:n,slides:r};return(t||[]).forEach(function(e){e(d)}),i(0),d};t.exports={from:r}},{}],29:[function(e,t,n){var r=e("bespoke"),o=e("bespoke-classes"),s=e("bespoke-keys"),i=e("bespoke-touch"),c=e("bespoke-state"),a=e("bespoke-scale"),u=e("bespoke-hash"),l=e("bespoke-progress"),f=e("bespoke-bullets"),d=e("bespoke-sync/client"),p=e("bespoke-notes");r.from("article",[o(),s(),i(),c(),a(),u(),l(),f(),d({log:!1,ssePath:"/sse-slides/",xhrPath:"/slide/"}),p({key:78,visible:!1,slideWidth:640})])},{bespoke:28,"bespoke-bullets":1,"bespoke-classes":2,"bespoke-hash":3,"bespoke-keys":4,"bespoke-notes":6,"bespoke-progress":12,"bespoke-scale":13,"bespoke-state":14,"bespoke-sync/client":16,"bespoke-touch":27}]},{},[29]);