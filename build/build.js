!function e(t,n,r){function o(s,c){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};t[s][0].call(a.exports,function(e){var n=t[s][1][e];return o(n?n:e)},a,a.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){t.exports=function(e){return function(t){var n,r,o=t.slides.map(function(t){return[].slice.call(t.querySelectorAll("string"==typeof e?e:"[data-bespoke-bullet]"),0)}),i=function(){var e=n+1;return u(1)?(c(n,r+1),!1):void(o[e]&&c(e,0))},s=function(){var e=n-1;return u(-1)?(c(n,r-1),!1):void(o[e]&&c(e,o[e].length-1))},c=function(e,t){n=e,r=t,o.forEach(function(n,r){n.forEach(function(n,o){n.classList.add("bespoke-bullet"),e>r||r===e&&t>=o?(n.classList.add("bespoke-bullet-active"),n.classList.remove("bespoke-bullet-inactive")):(n.classList.add("bespoke-bullet-inactive"),n.classList.remove("bespoke-bullet-active")),r===e&&o===t?n.classList.add("bespoke-bullet-current"):n.classList.remove("bespoke-bullet-current")})})},u=function(e){return void 0!==o[n][r+e]};t.on("next",i),t.on("prev",s),t.on("slide",function(e){c(e.index,0)}),c(0,0)}}},{}],2:[function(e,t,n){t.exports=function(){return function(e){var t=function(e,t){e.classList.add("bespoke-"+t)},n=function(e,t){e.className=e.className.replace(new RegExp("bespoke-"+t+"(\\s|$)","g")," ").trim()},r=function(r,o){var i=e.slides[e.slide()],s=o-e.slide(),c=s>0?"after":"before";["before(-\\d+)?","after(-\\d+)?","active","inactive"].map(n.bind(null,r)),r!==i&&["inactive",c,c+"-"+Math.abs(s)].map(t.bind(null,r))};t(e.parent,"parent"),e.slides.map(function(e){t(e,"slide")}),e.on("activate",function(o){e.slides.map(r),t(o.slide,"active"),n(o.slide,"inactive")})}}},{}],3:[function(e,t,n){t.exports=function(){return function(e){var t=function(){var t=window.location.hash.slice(1),r=parseInt(t,10);t&&(r?n(r-1):e.slides.forEach(function(e,r){e.getAttribute("data-bespoke-hash")===t&&n(r)}))},n=function(t){var n=t>-1&&t<e.slides.length?t:0;n!==e.slide()&&e.slide(n)};setTimeout(function(){t(),e.on("activate",function(e){var t=e.slide.getAttribute("data-bespoke-hash");window.location.hash=t||e.index+1}),window.addEventListener("hashchange",t)},0)}}},{}],4:[function(e,t,n){t.exports=function(e){return function(t){var n="vertical"!==e;document.addEventListener("keydown",function(e){(34==e.which||32==e.which&&!e.shiftKey||n&&39==e.which||!n&&40==e.which)&&t.next(),(33==e.which||32==e.which&&e.shiftKey||n&&37==e.which||!n&&38==e.which)&&t.prev()})}}},{}],5:[function(e,t,n){t.exports=function(e){return function(t){var n=document.createElement("div"),r=document.createElement("div"),o="vertical"===e?"height":"width";n.className="bespoke-progress-parent",r.className="bespoke-progress-bar",n.appendChild(r),t.parent.appendChild(n),t.on("activate",function(e){r.style[o]=100*e.index/(t.slides.length-1)+"%"})}}},{}],6:[function(e,t,n){t.exports=function(e){return function(t){var n=t.parent,r=t.slides[0],o=r.offsetHeight,i=r.offsetWidth,s="zoom"===e||"zoom"in n.style&&"transform"!==e,c=function(e){var t=document.createElement("div");return t.className="bespoke-scale-parent",e.parentNode.insertBefore(t,e),t.appendChild(e),t},u=s?t.slides:t.slides.map(c),a=function(e){var t="Moz Webkit O ms".split(" ");return t.reduce(function(t,r){return r+e in n.style?r+e:t},e.toLowerCase())}("Transform"),l=s?function(e,t){t.style.zoom=e}:function(e,t){t.style[a]="scale("+e+")"},f=function(){var e=n.offsetWidth/i,t=n.offsetHeight/o;u.forEach(l.bind(null,Math.min(e,t)))};window.addEventListener("resize",f),f()}}},{}],7:[function(e,t,n){t.exports=function(){return function(e){var t=function(t,n){var r=n.slide.getAttribute("data-bespoke-state");r&&r.split(" ").forEach(function(n){e.parent.classList[t](n)})};e.on("activate",t.bind(null,"add")),e.on("deactivate",t.bind(null,"remove"))}}},{}],8:[function(e,t,n){"use strict";t.exports=Math.random().toString(36).slice(2,7)},{}],9:[function(e,t,n){"use strict";var r=e("./xhr"),o=e("./sse");t.exports=function(){var e=Object(arguments[1]);return function(t){o(t,e),r(t,e)}}},{"./sse":10,"./xhr":11}],10:[function(e,t,n){"use strict";var r=e("./id"),o=e("querystring/decode"),i=JSON.parse;t.exports=function(e){var t=Object(arguments[1]),n=t.ssePath||"/sse-slides/",s=new EventSource(n+"?id="+r);t.log&&(s.onopen=function(){console.log("Server connection: Open")},s.onerror=function(){console.error("Server connection: Error")}),s.onmessage=function(n){var s=i(o(n.data.trim()).data);t.log&&console.log("Server -> Client["+r+"]",s),s.server=!0,e.slide(s.index,s)}}},{"./id":8,"querystring/decode":18}],11:[function(e,t,n){"use strict";var r=e("es5-ext/object/for-each"),o=e("es5-ext/object/is-object"),i=e("querystring/encode"),s=e("./id"),c=JSON.stringify;t.exports=function(e){var t=Object(arguments[1]),n=(t.xhrPath||"/slide/")+"?id="+s;e.on("activate",function(e){var u,a={};e.server||(r(e,function(e,t){o(e)||(a[t]=e)}),u=new XMLHttpRequest,u.open("POST",n,!0),u.send(i({data:c(a)})),t.log&&console.log("Client["+s+"] -> Server",a))})}},{"./id":8,"es5-ext/object/for-each":13,"es5-ext/object/is-object":15,"querystring/encode":19}],12:[function(e,t,n){"use strict";var r=e("./is-callable"),o=e("./valid-callable"),i=e("./valid-value"),s=Function.prototype.call,c=Object.keys,u=Object.prototype.propertyIsEnumerable;t.exports=function(e,t){return function(n,a){var l,f=arguments[2],d=arguments[3];return n=Object(i(n)),o(a),l=c(n),d&&l.sort(r(d)?d.bind(n):void 0),l[e](function(e,r){return u.call(n,e)?s.call(a,f,n[e],e,n,r):t})}}},{"./is-callable":14,"./valid-callable":16,"./valid-value":17}],13:[function(e,t,n){"use strict";t.exports=e("./_iterate")("forEach")},{"./_iterate":12}],14:[function(e,t,n){"use strict";t.exports=function(e){return"function"==typeof e}},{}],15:[function(e,t,n){"use strict";var r={"function":!0,object:!0};t.exports=function(e){return null!=e&&r[typeof e]||!1}},{}],16:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],17:[function(e,t,n){"use strict";t.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},{}],18:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var a=0;u>a;++a){var l,f,d,p,v=e[a].replace(s,"%20"),h=v.indexOf(n);h>=0?(l=v.substr(0,h),f=v.substr(h+1)):(l=v,f=""),d=decodeURIComponent(l),p=decodeURIComponent(f),r(i,d)?Array.isArray(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i}},{}],19:[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,o){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(o){var i=encodeURIComponent(r(o))+n;return Array.isArray(e[o])?e[o].map(function(e){return i+encodeURIComponent(r(e))}).join(t):i+encodeURIComponent(r(e[o]))}).join(t):o?encodeURIComponent(r(o))+n+encodeURIComponent(r(e)):""}},{}],20:[function(e,t,n){t.exports=function(e){return function(t){var n,r,o="vertical"==e?"Y":"X";t.parent.addEventListener("touchstart",function(e){1==e.touches.length&&(n=e.touches[0]["page"+o],r=0)}),t.parent.addEventListener("touchmove",function(e){1==e.touches.length&&(e.preventDefault(),r=e.touches[0]["page"+o]-n)}),t.parent.addEventListener("touchend",function(){Math.abs(r)>50&&t[r>0?"prev":"next"]()})}}},{}],21:[function(e,t,n){var r=function(e,t){var n=1===e.nodeType?e:document.querySelector(e),r=[].filter.call(n.children,function(e){return"SCRIPT"!==e.nodeName}),o=r[0],i={},s=function(e,t){r[e]&&(l("deactivate",f(o,t)),o=r[e],l("activate",f(o,t)))},c=function(e,t){return arguments.length?void(l("slide",f(r[e],t))&&s(e,t)):r.indexOf(o)},u=function(e,t){var n=r.indexOf(o)+e;l(e>0?"next":"prev",f(o,t))&&s(n,t)},a=function(e,t){return(i[e]||(i[e]=[])).push(t),function(){i[e]=i[e].filter(function(e){return e!==t})}},l=function(e,t){return(i[e]||[]).reduce(function(e,n){return e&&n(t)!==!1},!0)},f=function(e,t){return t=t||{},t.index=r.indexOf(e),t.slide=e,t},d={on:a,fire:l,slide:c,next:u.bind(null,1),prev:u.bind(null,-1),parent:n,slides:r};return(t||[]).forEach(function(e){e(d)}),s(0),d};t.exports={from:r}},{}],22:[function(e,t,n){var r=e("bespoke"),o=e("bespoke-classes"),i=e("bespoke-keys"),s=e("bespoke-touch"),c=e("bespoke-state"),u=e("bespoke-scale"),a=e("bespoke-hash"),l=e("bespoke-progress"),f=e("bespoke-bullets"),d=e("bespoke-sync/client");r.from("article",[o(),i(),s(),c(),u(),a(),l(),f(),d({log:!1,ssePath:"/sse-slides/",xhrPath:"/slide/"})])},{bespoke:21,"bespoke-bullets":1,"bespoke-classes":2,"bespoke-hash":3,"bespoke-keys":4,"bespoke-progress":5,"bespoke-scale":6,"bespoke-state":7,"bespoke-sync/client":9,"bespoke-touch":20}]},{},[22]);